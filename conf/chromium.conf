# Version: 126
# Potential Additions:
#	(--enable-features) SkipTpcdMitigationsForAds - I previously misunderstood what this does, this doesn't skip cookie deprecation but skips the BYPASSES for it, so this should benefit privacy if these features weren't already disabled by me, still an option though (privacy)

ENABLE_FEATURES=""
ENABLE_FEATURES+="VaapiVideoEncoder,VaapiVideoDecodeLinuxGL" # Fedora default to enable Hardware Acceleration for video decode/encode (performance)
ENABLE_FEATURES+=",PrefetchPrivacyChanges" # improves prefetching privacy by omitting a few things like the referrer and blocking cookies from prefetches (privacy)
ENABLE_FEATURES+=",CapReferrerToOriginOnCrossOrigin" # limits referrer to only send origins when cross origin, even with a more permissive referrer setting (privacy)
ENABLE_FEATURES+=",ClearCrossSiteCrossBrowsingContextGroupWindowName" # clears window.name property? Doesn't seem to work (privacy?)
ENABLE_FEATURES+=",TurnOffStreamingMediaCachingAlways" # disables disk caching for video (performance)
ENABLE_FEATURES+=",CookieDomainRejectNonASCII" # blocks cookies that contain non-ASCII characters (security)
ENABLE_FEATURES+=",ContentSettingsPartitioning" # isolates content settings by top-level origin (privacy)
ENABLE_FEATURES+=",ScopeMemoryCachePerContext" # essentially improves cache partitioning by only allowing memory cache to be used from the original context (privacy)
ENABLE_FEATURES+=",PartitionVisitedLinkDatabase" # isolates the visited status of websites to prevent history leaks (privacy)
ENABLE_FEATURES+=",PartitionNelAndReportingByNetworkIsolationKey,PartitionSSLSessionsByNetworkIsolationKey,PartitionHttpServerPropertiesByNetworkIsolationKey,PartitionConnectionsByNetworkIsolationKey,SplitCodeCacheByNetworkIsolationKey,SplitHostCacheByNetworkIsolationKey,SplitCacheByNetworkIsolationKey" # state partitioning improvements (privacy)
ENABLE_FEATURES+=",IsolateSandboxedIframes" # enables process sandboxing and isolation on iframes with the Sandbox attribute (security)
ENABLE_FEATURES+=",DisableProcessReuse" # disables reusing processes for iframes (security)
ENABLE_FEATURES+=",StrictOriginIsolation" # strengthens origin isolation (security)

DISABLE_FEATURES=""
DISABLE_FEATURES+="Reporting,CrashReporting,DocumentReporting" # disables Reporting API in various contexts (privacy)
DISABLE_FEATURES+=",AutofillServerCommunication" # disables Autofill communication (privacy)
DISABLE_FEATURES+=",MediaDrmPreprovisioning" # disables DRM related communication (privacy)
DISABLE_FEATURES+=",LensStandalone" # disables Lens image search (privacy)
DISABLE_FEATURES+=",InterestFeedV2" # disables content suggestions (privacy)
DISABLE_FEATURES+=",OptimizationHints" # disables optimization guides, this includes several AI features (privacy)
DISABLE_FEATURES+=",TpcdHeuristicsGrants,TpcdMetadataGrants" # disables third-party cookies deprecation bypasses (privacy)

CHROMIUM_FLAGS=""
CHROMIUM_FLAGS+=" --disable-breakpad --disable-crash-reporter" # disables the crash reporter (privacy)
CHROMIUM_FLAGS+=" --force-dark-mode" # forces dark mode for the UI (appearance)
CHROMIUM_FLAGS+=" --force-disable-variation-ids" # removes client variations IDs from the X-Client-Data header (privacy)
CHROMIUM_FLAGS+=" --incognito" # launches in Incognito, to encourage ephemerality (privacy)
CHROMIUM_FLAGS+=" --no-pings" # disables hyperlink auditing (privacy)
CHROMIUM_FLAGS+=" --connectivity-check-url=http://0.0.0.0" # useless (privacy)
CHROMIUM_FLAGS+=" --extension-content-verification=enforce_strict --extensions-install-verification=enforce_strict" # forces all extensions to be verified, even those without verification (security)
CHROMIUM_FLAGS+=" --js-flags=--jitless" # disables Web Assembly & JIT compiled JavaScript (security)
CHROMIUM_FLAGS+=" --ozone-platform=wayland" # sets preferred windowing to Wayland instead of X11 (security)

CHROMIUM_FLAGS+=" --enable-features=$ENABLE_FEATURES" # enable feature flags (privacy security performance)
CHROMIUM_FLAGS+=" --disable-features=$DISABLE_FEATURES" # disable feature flags (privacy)
